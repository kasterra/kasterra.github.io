---
title: Asus Zenbook ux482 우분투에서 소리가 안나는 문제와 해결법
layout: post
subtitle: 윈도우에서는 소리가 나는데, 우분투에서 소리가 안날때의 좋은 해결법
image: /images/thumbnails/ubuntu_no_sound.png
category: tips
---

# 개요
얼마 전 제 자신을 위한 투자로 화면 두개달린 노트북인 ASUS Zenbook Duo UX482를 구매했습니다. 공부를 진행하다 보니, 윈도우 자체기능인 wsl로는 한계가 느껴져서, 우분투 20.04를 설치해서 쓰다가, 내장 스피커에서는 소리가 안나고, 블루투스 이어폰등을 연결했을 때는 소리가 나는 황당한 이슈를 마주하게 되었습니다. 터치스크린 이라던지 보조 디스플레이 같은것은 드라이버가 잡혀서, 설정 내에서 "와콤 디지타이저 구성" 이런 것들도 보이고 하는데, 내장 스피커가 올바로 들리지 않는것은 참으로 이상한 일이었습니다. 

친구 중에서 자유 소프트웨어의 수호자를 자처하는 친구는 PC 제조사들이 캐노니컬 같은 리눅스 배포판을 담당하는 회사들에게 본인들의 드라이버를 넘기지 않아 생긴 문제라며, LTS는 아니지만, 최신판인 21.04를 설치하면 나아질 것이라는 조언을 듣기도 했습니다. 그 조언을 따라, 21.04를 설치했지만, 20.04에서 겪었던 문제가 그대로 발생해서, 저는 거의 모든 지식을 알고 있는 구글님에게 제 문제를 도와달라고 검색을 시작했고, 여러 방법을 시도해본 끝에, 결국 소리가 나게 하긴 했습니다. 저와 같은 경우가 흔하지 않아서인지, 해당 해답을 찾기까지 좀 많은 어려움이 있었고, 그중에서 한글 자료는 하나도 없었습니다. 

# 0. 음소거가 되어 있는지 확인
어이가 없을수도 있지만, 처음 나오는 답변은 음소거의 여부를 확인해 보라는 것이었습니다. 우분투 설정에서도 확인을 해보고, alsamixer 라는 프로그램을 켜서 올바른 사운드카드 드라이버로 설정이 되어 있는지, 그리고 다른 설정의 문제가 있는지 확인해 보는것이 첫째로 해봐야 하는 것이라고 하였습니다.

![alsa](/images/tips/alsa.png)
<div style="display:flex; justify-content:center;">터미널에서 alsamixer를 실행한 모습</div>

혹시나 이 화면에서 음소거가 되어 있으면(볼륨 밑에 있는 글자가 OO가 아닌 MM이면) 해당 볼륨에다가 포커스가 맞춰진 상태로 `m`키를 눌러서 음소거를 해제하라고 하지만, 제 경우에는 그 문제가 아닌듯 하여, 넘어갔습니다.

# 1. pulseaudio, alsamixer 재설정
<https://www.maketecheasier.com/fix-no-sound-issue-ubuntu/>에서는 대부분의 리눅스 배포판에서 사용하는 사운드 제어 프로그램인 `pulseaudio`를 관리하기 위해서, `pavucontrol`이라는 프로그램을 깔아서 설정을 잘 해보라 하는데, 별로 도움이 되지를 못한것 같습니다.

0번 항목에서도 다룬 alsamixer를 강제로 재시작 하고 재부팅을 하는 방법또한 있다고 하여 이 또한 시도해 보았습니다.
```bash
$ sudo alsa force-reload
$ reboot
```
잘 안되더라고요.... pulseaudio와 alsamixer를 재설치 하라는 해결책 또한 있었습니다.
```bash
$ sudo apt remove --purge alsa-base pulseaudio
$ sudo apt install alsa-base pulseaudio
```
--purge를 꼭 해야지, 설정까지 날라가기 때문에 완전한 재설치의 효과가 난다고 하는 친절한 부연설명까지 있었지만, 이것도 참 유감스럽게 저에게 적용이 되지 못했습니다.

# 2. unplugged된걸로 인식된 스피커를 살리기 - 해결
<https://askubuntu.com/questions/1230363/internal-speaker-audio-is-not-working-in-ubuntu-20-04-lts-after-upgrading-from>

위의 링크는 우문투 18.04에서 20.04로 업그레이드 한 후의 문제라고 적어 놓았지만, 여기서 제시한 해결법은 지금 저에게 유효했기 때문에, 지금 현재 노트북에서 잘 써먹고 있습니다. 21.04 버전을 현재 쓰고 있지만, 20.04에도 적용이 될것으로 예측됩니다.

노트북 내장 스피커가 플러그 인 되어있지 않은 것으로 인식이 되어, 컴퓨터에서 무시가 되었을 때, 이러한 현상이 일어난다고 합니다. 해결 방법은 아래와 같습니다. `hdajackretask`라는 툴을 사용하여, 컴퓨터에 물려있는 오디오 장비들에 대한 상세한 설정까지 제어가 가능하다고 합니다.

1. `hdajackretask`등의 음향 관련된 프로그램들의 패키지인 `alsa-tools-gui`를 설치합니다.
```bash
$ sudo apt install alsa-tools-gui
```
2. `hdajackretask`를 쉘에 입력해서 프로그램을 실행합니다.
3. 오른쪽의 parser hint 를 클릭한 다음, `jack_detect` 속성을 `default`에서 `no`로 바꿉니다. 속성을 전환하기 위해서는 해당 속성을 더블클릭하면 됩니다.
4. Apply Now 버튼을 누르고, Install boot override를 누릅니다. 이 과정이 오래 걸렸고 가끔 프로그램이 중간에 응답없음이 되는 경우들이 많은데, 그럴때는 강제종료 후, 될때까지 시도하면 됩니다.
5. 재부팅

이 방법으로는 소리는 정상적으로 들리지만, 컴퓨터가 인식하기에 플러그인 되어 있지 않은 장비를 억지로 끌어다 쓰는 방식이라서 그런지, 우분투 설정 내의 '출력장치 시험하기' 등으로 시험해 보았을때는 소리가 나지 않는듯 하지만, 유튜브 등을 재생해서 실제로 소리가 나는지 테스트 해보면 소리가 정상적으로 나는것을 확인할 수 있습니다.

분명 위의 웹 페이지에서는 "영구적인" 해결 수단이라고 적어는 놓았지만, 가끔 껐다 켰을 때, 소리가 안나는 경우가 있습니다. 이럴때에도 위의 해결방법을 그대로 다시 시도하면 문제 없이 소리가 잘 나오긴 합니다. 

# 마치며
전에 쓰던 노트북에 우분투 18.04를 깔아 쓸 때는, 하드웨어적인 문제는 경험해 본적이 없는것 같은데, 비교적 신형 노트북을 쓰다보니 생긴 문제가 아닐까 하는 생각을 하고는 있습니다. 사실 어찌되었든 간에 사운드 이슈는 정상적으로 해결되어서, 현재는 잘 사용하고 있습니다.